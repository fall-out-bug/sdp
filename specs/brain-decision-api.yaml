version: v1
name: BrainDecisionAPI

request:
  required:
    - issue_id
    - title
    - description
    - acceptance
    - dependencies
    - changed_paths
    - lane
  fields:
    issue_id: string
    title: string
    description: string
    acceptance: string
    dependencies: string[]
    changed_paths: string[]
    lane: enum[commit, explore]
    preferred_model: string

response:
  required:
    - policy_verdict
    - risk_class
    - selected_model
    - fallback_chain
    - branch_name
    - escalation_required
  fields:
    policy_verdict: enum[allow, deny, escalate]
    risk_class: enum[low, medium, high, critical]
    selected_model: enum[glm-5, glm-4.7]
    fallback_chain: string[]
    branch_name: string
    escalation_required: boolean
    reasons: string[]
