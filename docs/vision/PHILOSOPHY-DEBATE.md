# Философские дебаты SDP: Шесть экспертов за одним столом

> **Дата:** 2026-02-08
> **Формат:** Живые дебаты — PG, DHH, Levels, Karpathy, Masad, Willison
> **Тема:** Четыре столпа SDP — спеки, атомарные единицы, артефакты, верификация

---

## Консенсус стола

### Столп 1: Спеки перед кодом

**Да, но это чекпоинт, а не документ.**

Спека — это не ТЗ на 200 страниц. Это `terraform plan`: модель предлагает план, человек говорит Y/n/edit. Обязательно для высокорискового кода. Опционально для низкорискового.

> **Karpathy:** "Спека — это не документация. Это провенанс. Без неё не ответишь 'почему AI построил это так?' через три месяца."
>
> **DHH:** "Ненавижу, что ты прав."

### Столп 2: Атомарные единицы работы

**Да, и это перманентно — но не из-за слабости моделей.**

Две причины, которые НЕ уйдут с улучшением моделей:

1. **Спецификационная разреженность** (Karpathy): Человек не может полностью специфицировать 5000 строк в одном промпте. Декомпозиция сокращает поверхность решений на шаг.

2. **Человеческая верификация** (DHH): "Мне всё равно, если GPT-6 генерит идеальные 5000 строк. Я не могу ПРОВЕРИТЬ 5000-строчный дифф. 200 строк — могу."

> **DHH:** "Декомпозиция — это не костыль для AI. Это костыль для МЕНЯ. И мне он нужен всегда, потому что я человек."

**Число 200 — временное и должно быть настраиваемым.** Принцип "единицы размером под эффективную верификацию" — перманентный.

### Столп 3: Рельсы и артефакты

**Да, но НЕВИДИМЫЕ.**

Три потребителя артефактов:
1. **Следующая AI-сессия** — артефакты = межсессионная память (код, тесты, спеки, вердикты)
2. **Человек-следователь** — когда что-то сломалось, нужна форензика
3. **Комплаенс** — аудиторский след для SOC2/HIPAA

> **Willison:** "Артефакты — не документация для людей. Это КОНТЕКСТ для следующего AI-агента. Каждая сессия начинается с нуля. Артефакты — это память."
>
> **Masad:** "Скелеты побеждают экзоскелеты. Внутренняя структура, о которой не думаешь, побеждает внешнюю, которую надо натягивать."

**Уровень детализации — пропорционально риску.** Директория `payments/` → полный трейл. Директория `components/` → код + тесты.

### Столп 4: Верификация требует структуры

**ДА. И это центральный инсайт.**

> **Karpathy:** "Спецификация и ограничение — это один и тот же акт, видимый с двух сторон. Нельзя декомпозировать для генерации, не декомпозировав для верификации. Они неразделимы."

- **Синтаксическая верификация** (mypy, eslint) — работает на блобах, без структуры
- **Семантическая верификация** ("делает ли код то, что должен?") — НЕВОЗМОЖНА без структуры, потому что требует знания НАМЕРЕНИЯ

SDP — не линтер и не билд-система. Это **билд-система со встроенным аудит-трейлом**: контролирует КАК код генерируется, КАК верифицируется, и оставляет форензик-запись.

> **DHH:** "SDP должен РАБОТАТЬ как линтер. Изнутри — билд-система. Снаружи — `sdp ship` → зелёная галочка."

---

## Нерешённые вопросы

| Вопрос | Статус |
|--------|--------|
| Адаптивная гранулярность (200 строк → ?) | Нужны данные. Фидбэк-луп: проходит верификация на крупных единицах → ослабить; падает → усилить |
| Кто пишет спеки? | Если AI пишет и спеки, и код — коррелированные ошибки. Возможно, один модель для спек, другой для кода |
| Данные vs теория | Ноль доказательств, что декомпозиция уменьшает баги. Нужен эксперимент: 10 фич с SDP, 10 без |
| Рынок | Философия правильная. Но кто платит? Пока нет пользователей, это академия |

---

## Финальная формула

> **SDP = билд-система для AI-кода с невидимой структурой и встроенным аудит-трейлом.**
>
> Спеки перед кодом (как чекпоинты, не как ТЗ).
> Атомарные единицы (размером под человеческую верификацию).
> Артефакты на каждом шаге (невидимые, пропорциональные риску).
> Структура = генерация = верификация (одно и то же).
>
> Снаружи: `sdp ship "Add OAuth"` → PR с зелёной галочкой.
> Внутри: декомпозиция, спеки, TDD, статанализ, аудит.
> Для пользователя: невидимо. Для следующего агента: контекст. Для аудитора: доказательства.

---

*"Перестаньте дебатировать и шипните уже чёртов инструмент." — PG, при поддержке всех остальных*
