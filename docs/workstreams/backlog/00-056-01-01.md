---
ws_id: "00-056-01"
feature_id: "F056"
title: "Review & Deploy Instrumentation"
status: "backlog"
priority: "P1"
depends_on: ["00-054-05"]
blocks: ["00-056-04"]
project_id: "00"
---

# 00-056-01: Review & Deploy Instrumentation

## Goal

### ðŸŽ¯ Goal

Instrument `@review` and `@deploy` skills to emit evidence events. These complete the generation â†’ verification â†’ approval chain started by `@build` in F054.

## Context

`@review` calls multi-agent quality check (QA, Security, DevOps, SRE, TechLead, Documentation). Each reviewer finding should be a verification event. `@deploy` merges code and should emit an approval event.

## Acceptance Criteria

- [x] AC1: `sdp verify` (called by `@review`) emits `verification` event per gate result
- [x] AC2: Verification events include actual reviewer output (findings, severity)
- [x] AC3: `@deploy` merge step emits `approval` event (who approved, gates passed)
- [x] AC4: Approval event includes merge target branch and commit SHA
- [x] AC5: Evidence chain: `@build` generation â†’ `@review` verification â†’ `@deploy` approval
- [x] AC6: Tests for new event emissions

## Scope Files

**Implementation:**
- sdp-plugin/cmd/sdp/verify.go (update â€” add review evidence)
- sdp-plugin/internal/evidence/emitter.go (update â€” add review/deploy helpers)
- sdp-plugin/internal/evidence/emitter_test.go (update)

**Tests:**
- sdp-plugin/internal/evidence/emitter_test.go

## Notes

- ~2h work
- Highest leverage after `@build` â€” completes the core chain
- `@review` already calls CLI commands â€” just add evidence emit

---

### Execution Report

- **Completed:** 2026-02-10
- **Artifacts:** verify.go emits one verification event per check (VerificationEventWithFindings); deploy.go added (`sdp deploy --target main [--sha] [--who]`) emitting ApprovalEvent; emitter.go: VerificationEventWithFindings, ApprovalEvent; emitter_test.go: TestVerificationEventWithFindings, TestApprovalEvent.
- **Verification:** go build ./... and go test ./internal/evidence/... pass.
- **Post-build:** Go build and test in sdp-plugin.
