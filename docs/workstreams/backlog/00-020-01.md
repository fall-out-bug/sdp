---
ws_id: 00-020-01
feature_id: F020
status: done
priority: P1
size: S
depends_on: ["00-019-03"]
---

# 00-020-01: @build Scope Surgery

Feature: F020 (sdp_dev-s8ky)

## Goal

Remove auto-continue rules from @build (scope leak: @build tries to be @oneshot). Strip evidence boilerplate. @build does ONE workstream, then STOPS.

## Scope Files

- `sdp/prompts/skills/build/SKILL.md` — canonical @build skill
- `.opencode/skills/build/SKILL.md` — copy
- `.cursor/skills/build/SKILL.md` — copy (if exists)

## Changes

### Remove Auto-Continue Rules

Current CRITICAL RULES that leak @oneshot's scope into @build:
- Rule 2: "AUTO-CONTINUE — After WS commit, IMMEDIATELY start next workstream"
- Rule 4: "ONLY STOP IF: All WS done OR unrecoverable blocker"

Replace with: "Execute this ONE workstream. After commit, STOP. Continuation is the orchestrator's job."

### Strip Evidence Boilerplate

~100 lines of evidence lifecycle ceremony:
- Creating `.sdp/evidence/{beads_id}.json` before code
- Patching evidence files post-commit
- Evidence hash chain management

Move to: post-build CLI hook (`sdp evidence init/finalize`) or @oneshot orchestrator responsibility.

### Simplify Subagent Strategy

Current: "Option A (Preferred) / Option B (Fallback)" ambiguity.
Replace with: single clear approach.

## Acceptance Criteria

- [x] @build executes ONE workstream and stops after commit
- [x] No "IMMEDIATELY start next workstream" or "AUTO-CONTINUE" rules
- [x] Evidence lifecycle delegated to CLI or orchestrator
- [x] @build ≤150 lines (down from 319)
- [x] @build still produces `.sdp/ws-verdicts/{ws-id}.json` verdict file
- [x] TDD cycle (Red→Green→Refactor) preserved
- [x] @oneshot/sdp orchestrate still works with modified @build

## Out of Scope

- Oneshot outer loop changes (F016)
- Evidence CLI for lifecycle (future — could be part of F014 or standalone)
