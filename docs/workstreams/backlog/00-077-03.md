# WS: Session Lifecycle Hooks

**Feature**: F077 - Runtime Hooks Platform
**ID**: 00-077-03
**Priority**: P1
**Depends on**: 00-077-01

## Goal
Add hooks for session lifecycle (start/end/compaction).

## Scope Files
- `src/sdp/hooks/session.go` (NEW)
- `src/sdp/hooks/session_test.go` (NEW)

## Acceptance Criteria
1. `session:start` - when Claude session begins
2. `session:end` - when session ends gracefully
3. `session:compact` - before/after context compaction
4. `session:resume` - when resuming from compaction
5. Access to session metadata (ID, start time, work done)
6. Tests for session hooks (>= 80% coverage)

## Out of Scope
- Command hooks (00-077-02)
- Gateway hooks (00-077-04)

## Implementation Notes
```go
type SessionEvent struct {
    SessionID   string
    StartTime   time.Time
    EndTime     time.Time
    WorkDone    []string
    TokensUsed  int
}

func RegisterSessionHooks(registry *HookRegistry)
```

## Test Strategy
- Unit tests for each hook type
- Test metadata access
- Test compaction flow
