---
ws_id: "00-057-05"
feature_id: "F057"
title: "Refactor planner package to <=200 LOC per file"
status: "backlog"
priority: "P1"
depends_on: ["00-057-04"]
blocks: ["00-057-09"]
project_id: "00"
---

# 00-057-05: Refactor planner package to <=200 LOC per file

## Goal

Split oversized planner files so every source and test file in `internal/planner/` is <=200 LOC while preserving behavior.

## Context

Review for PR #17 flagged `internal/planner/planner.go` (358 LOC) and `internal/planner/planner_test.go` (531 LOC) as quality-gate violations.

## Acceptance Criteria

- [ ] AC1: `internal/planner/planner.go` is split into files <=200 LOC each
- [ ] AC2: `internal/planner/planner_test.go` is split into files <=200 LOC each
- [ ] AC3: Public package API and behavior remain unchanged
- [ ] AC4: `go test ./internal/planner/...` passes
- [ ] AC5: Coverage remains >=80%

## Scope Files

**Implementation:**
- sdp-plugin/internal/planner/planner.go (refactor/split)
- sdp-plugin/internal/planner/*.go (new files as needed)

**Tests:**
- sdp-plugin/internal/planner/planner_test.go (refactor/split)
- sdp-plugin/internal/planner/*_test.go (new files as needed)

## Notes

- Pure refactor, no feature changes.
- Keep decomposition and formatting logic semantics stable.
