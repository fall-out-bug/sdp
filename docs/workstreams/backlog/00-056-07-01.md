---
ws_id: "00-056-07"
feature_id: "F056"
title: "Refactor skill.go to â‰¤200 LOC"
status: "completed"
priority: "P3"
depends_on: []
blocks: []
project_id: "00"
---

# 00-056-07: Refactor skill.go to â‰¤200 LOC

## Goal

### ðŸŽ¯ Goal

Reduce `sdp-plugin/cmd/sdp/skill.go` to â‰¤200 lines to satisfy the project quality gate. Move subcommand implementations into separate `skill_*.go` files in the same package (`main`) so each file is â‰¤200 LOC and CLI behavior is unchanged.

## Context

Review finding sdp-l0ag: skill.go is 244 LOC. Split by subcommand: record, validate, check-all, list, show into skill_record.go, skill_validate.go, skill_checkall.go, skill_list.go, skill_show.go; keep skill.go as root command only.

## Acceptance Criteria

- [x] AC1: skill.go â‰¤200 LOC (counted by `wc -l`) â€” 38 LOC
- [x] AC2: `sdp skill` subcommands work (list, show, validate, check-all, record)
- [x] AC3: No change to public CLI (same flags, same behavior)
- [x] AC4: Existing tests pass (TestSkillCommand, TestSkillValidateCmd, etc.)

## Scope Files

**Implementation:**
- sdp-plugin/cmd/sdp/skill.go (reduce to root command only)
- sdp-plugin/cmd/sdp/skill_record.go (new)
- sdp-plugin/cmd/sdp/skill_validate.go (new)
- sdp-plugin/cmd/sdp/skill_checkall.go (new)
- sdp-plugin/cmd/sdp/skill_list.go (new)
- sdp-plugin/cmd/sdp/skill_show.go (new)

## Notes

- All files in package `main`. Root skillCmd() stays in skill.go and AddCommand for each.
- Go allows multiple .go files in one package; no API change.

---

## Execution Report

| Step | Result |
|------|--------|
| Pre-build | âœ… PASSED |
| Guard | âœ… Activated 00-056-07 |
| Refactor | skill.go â†’ 38 LOC; skill_record.go, skill_validate.go, skill_checkall.go, skill_list.go, skill_show.go added |
| Build/Tests | âœ… go build ./...; all skill tests pass |
| Post-build | âœ… go test ./... -short |
| AC1 | skill.go 38 LOC (â‰¤200) |
| AC2 | list, show, validate, check-all, record verified |
| AC3 | Same flags and behavior |
| AC4 | TestSkillCommand, TestSkillValidateCmd, TestSkillCheckAllCmd, TestSkillListCmd, TestSkillShowCmd â€” PASS |
