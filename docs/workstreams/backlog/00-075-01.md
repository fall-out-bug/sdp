# WS: Doctor Repair Mode

**Feature**: F075 - Self-Healing Doctor
**ID**: 00-075-01
**Priority**: P0
**Depends on**: -

## Goal
Add `--repair` flag to `sdp doctor` command that automatically fixes detected issues.

## Scope Files
- `sdp-plugin/cmd/sdp/doctor.go`
- `sdp-plugin/internal/doctor/doctor.go`
- `sdp-plugin/internal/doctor/doctor_repair.go` (NEW)

## Acceptance Criteria
1. `sdp doctor --repair` runs all checks and attempts auto-fix
2. Fixes file permissions (chmod 0600 for sensitive files)
3. Creates missing `.claude/` subdirectories
4. Reports what was fixed vs what needs manual intervention
5. Returns non-zero exit code if any unfixable errors remain
6. Tests for repair functionality (>= 80% coverage)

## Out of Scope
- Deep diagnostics (--deep is 00-075-02)
- Guided prompts (00-075-03)
- Config migrations (00-075-04)

## Implementation Notes
```go
type RepairAction struct {
    Check     string
    Action    string // "fixed", "manual", "skipped"
    Message   string
}

func RunWithRepair() []RepairAction {
    // Run checks, apply fixes, report results
}
```

## Test Strategy
- Unit tests for each repair action
- Integration test with temp directory
- Verify idempotency (repair twice = same result)
