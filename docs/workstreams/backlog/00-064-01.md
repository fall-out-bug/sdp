---
ws_id: "00-064-01"
feature_id: "F064"
title: "ID Resolver Core"
status: backlog
priority: 2
size: MEDIUM
depends_on: []
blocks: ["00-064-02", "00-064-03"]
---

## Goal

Implement unified ID resolver that detects and resolves any task identifier format.

## Context

Currently:
- `/build` expects workstream ID (00-063-01)
- `/bugfix` expects issue file path
- No unified way to resolve beads ID to workstream

Need single resolver that handles all formats.

## Acceptance Criteria

- [ ] AC1: Detect ID type from pattern (WS: `^\d{2}-\d{3}-\d{2}$`, beads: `^[a-z]{3}-`)
- [ ] AC2: Resolve workstream ID → file path
- [ ] AC3: Resolve beads ID → workstream file (via frontmatter search)
- [ ] AC4: Resolve issue ID → file path (docs/issues/)
- [ ] AC5: CLI command `sdp resolve <id>` returns JSON with type and path
- [ ] AC6: Error handling for unknown/ambiguous IDs

## Scope Files

```yaml
scope_files:
  - sdp-plugin/internal/resolver/resolver.go
  - sdp-plugin/internal/resolver/resolver_test.go
  - sdp-plugin/internal/resolver/workstream.go
  - sdp-plugin/cmd/sdp/resolve.go
```

## Notes

- Pattern detection should be fast (regex, no I/O)
- Workstream search via grep for `beads_id:` frontmatter
- Index file `.sdp/issues-index.jsonl` for O(1) issue lookup
