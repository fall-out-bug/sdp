# WS: Command Lifecycle Hooks

**Feature**: F077 - Runtime Hooks Platform
**ID**: 00-077-02
**Priority**: P1
**Depends on**: 00-077-01

## Goal
Add hooks for command execution lifecycle (pre/post/error).

## Scope Files
- `src/sdp/hooks/command.go` (NEW)
- `src/sdp/hooks/command_test.go` (NEW)

## Acceptance Criteria
1. `command:pre` - before command execution
2. `command:post` - after successful execution
3. `command:error` - on command failure
4. Access to command name, args, flags
5. Ability to modify command input (pre hook)
6. Ability to capture command output (post hook)
7. Tests for command hooks (>= 80% coverage)

## Out of Scope
- Session hooks (00-077-03)
- Gateway hooks (00-077-04)

## Implementation Notes
```go
type CommandEvent struct {
    Name      string
    Args      []string
    Flags     map[string]interface{}
    Duration  time.Duration
    Error     error
    Output    string
}

func RegisterCommandHooks(registry *HookRegistry)
```

## Test Strategy
- Unit tests for each hook type
- Test input modification
- Test output capture
