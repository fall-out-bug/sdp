---
ws_id: 00-067-11
feature_id: F067
title: "Git Structural Hygiene (Submodule, Install Path, Python Artifacts)"
status: backlog
priority: 1
size: SMALL
depends_on: [00-067-01]
blocks: []
project_id: sdp
---

## Goal

Clean up structural Git issues: remove self-referential submodule, fix install paths, and remove Python-era configuration artifacts.

## Context

Three unrelated but individually confusing structural issues exist:

1. **Self-referential submodule**: `.gitmodules` includes the repo itself as submodule at `.sdp/.sdp` — this is fragile, confuses recursive clone, and serves no clear purpose beyond dogfooding.

2. **Python artifacts**: `poetry.lock` exists at root, `quality-gate.toml` references pytest/mypy/ruff/PEP8. The project has fully pivoted to Go but configuration remnants remain.

3. **Install path mismatch**: `docs/PROTOCOL.md` says `go install github.com/fall-out-bug/sdp@latest` but the CLI entry point is at `sdp-plugin/cmd/sdp/main.go`.

## Acceptance Criteria

- [ ] AC1: Remove self-referential submodule from `.gitmodules`
- [ ] AC2: Clean up `.sdp/.sdp` directory if present
- [ ] AC3: Document alternative dogfooding approach (direct path reference vs submodule)
- [ ] AC4: Remove `poetry.lock` or move to explicit `legacy/` directory
- [ ] AC5: Audit `quality-gate.toml` — remove Python-specific references or mark as language examples
- [ ] AC6: Fix `go install` path in PROTOCOL.md and any other docs
- [ ] AC7: Verify `git clone --recursive` works cleanly after cleanup

## Scope Files

```yaml
scope_files:
  - .gitmodules
  - .sdp/.sdp/                        # remove submodule
  - poetry.lock                        # remove or relocate
  - quality-gate.toml                  # clean Python refs
  - docs/PROTOCOL.md                   # fix go install path
  - README.md                          # verify install instructions
```

## Implementation Notes

### Submodule Removal

```bash
git submodule deinit -f .sdp/.sdp
git rm -f .sdp/.sdp
rm -rf .git/modules/.sdp/.sdp
# Update .gitmodules to remove entry
```

### Dogfooding Alternative

Instead of self-submodule, document:
- SDP skills are read directly from repo root
- `.claude/skills` symlink points to `prompts/skills/` (already in place)
- No submodule needed for dogfooding

### Python Cleanup

Options for `quality-gate.toml`:
- Keep as language-agnostic example template with clear header
- Or split into `quality-gate-go.toml` and `quality-gate-python.toml` examples

## Definition of Done

- [ ] `git clone --recursive` succeeds without self-reference errors
- [ ] No Python configuration artifacts without clear purpose
- [ ] Install paths correct across all docs
- [ ] AC1-AC7 met
