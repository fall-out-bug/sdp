---
ws_id: "00-063-04"
feature_id: "F063"
title: "Exceptions TTL and Governance Meta-check"
status: "backlog"
priority: "P1"
depends_on: ["00-063-02", "00-063-03"]
blocks: []
project_id: "00"
---

# 00-063-04: Exceptions TTL and Governance Meta-check

## Goal

Add first-class exceptions with expiry and governance checks for guard policy changes.

## Context

Hybrid enforcement needs controlled escape hatches. Exceptions must be temporary and auditable. Policy files should not be changed without explicit governance workflow.

## Source of inspiration

- [guardian-cli exception filtering with expiry](https://github.com/AlexGladkov/guardian-cli/blob/main/internal/engine/engine.go)
- [guardian-cli governance meta-check](https://github.com/AlexGladkov/guardian-cli/blob/main/internal/engine/meta_check.go)
- [guardian-cli proposal finalization/history](https://github.com/AlexGladkov/guardian-cli/blob/main/internal/cli/finalize.go)

## Acceptance Criteria

- [ ] AC1: Exception entries support `rule_id`, path glob, reason, owner, `expires_at`
- [ ] AC2: Expired exceptions are ignored automatically
- [ ] AC3: `sdp guard check --staged` applies active exceptions before final verdict
- [ ] AC4: Governance meta-check blocks direct edits to guarded policy files without approved record
- [ ] AC5: `WARNING` and `ERROR` summaries show applied exception counts
- [ ] AC6: JSON output includes exception metadata for CI auditability
- [ ] AC7: Documentation includes exception lifecycle and governance flow

## Scope Files

**Implementation:**
- sdp-plugin/internal/guard/models.go (update)
- sdp-plugin/internal/guard/skill.go (update)
- sdp-plugin/cmd/sdp/guard.go (update)
- sdp-plugin/internal/guard/policy_meta_check.go (new)
- docs/reference/commands.md (update)
- docs/reference/configuration.md (update)

**Tests:**
- sdp-plugin/internal/guard/skill_test.go (update)
- sdp-plugin/internal/guard/policy_meta_check_test.go (new)

## Notes

- ~2h work
- Keep governance meta-check deterministic and file-scope based in MVP
