# WS: Evidence Writer Service

**Feature**: F054 - Evidence Layer
**ID**: 00-054-08
**Priority**: P0
**Depends on**: 00-054-02, 00-054-03, 00-054-04, 00-054-05, 00-054-06, 00-054-07

## Goal
Create unified evidence writer service that handles all event types.

## Scope Files
- `src/sdp/evidence/writer.go` (NEW)
- `src/sdp/evidence/writer_test.go` (NEW)

## Acceptance Criteria
1. Writer struct that wraps EvidenceLog
2. Type-safe methods for each event type
3. Auto-hash calculation and chain linking
4. Configurable log path
5. Thread-safe writes
6. Tests for writer (>= 80% coverage)

## Out of Scope
- CLI commands (00-054-09)
- Trace functionality (00-054-10)

## Implementation Notes
```go
type Writer struct {
    log *EvidenceLog
    mu  sync.Mutex
}

func NewWriter(logPath string) (*Writer, error)
func (w *Writer) WriteDecision(event *DecisionEvent) error
func (w *Writer) WritePlan(event *PlanEvent) error
func (w *Writer) WriteGeneration(event *GenerationEvent) error
func (w *Writer) WriteVerification(event *VerificationEvent) error
func (w *Writer) WriteAcceptance(event *AcceptanceEvent) error
func (w *Writer) WriteApproval(event *ApprovalEvent) error
```

## Test Strategy
- Integration tests with real file
- Test all event type methods
- Test concurrent writes
