---
ws_id: "00-064-02"
feature_id: "F064"
title: "Task Registration API"
status: backlog
priority: 2
size: MEDIUM
depends_on: ["00-064-01"]
blocks: ["00-064-04"]
---

## Goal

Implement Go API for creating tasks (bugs, tasks, hotfixes) with dual-track artifact creation.

## Context

Both @review and /issue need to create tasks. Currently manual process.

Need programmatic way to:
1. Create workstream MD file
2. Optionally create beads issue
3. Link bidirectionally

## Acceptance Criteria

- [ ] AC1: `sdp task create --type=bug|task|hotfix --title="..."` creates workstream file
- [ ] AC2: Workstream file uses correct ID format (99-{FEATURE}-{SEQ} for fixes)
- [ ] AC3: If beads enabled, create beads issue and link
- [ ] AC4: Fallback: create docs/issues/ISSUE-{SEQ}.md if no feature context
- [ ] AC5: Update .sdp/issues-index.jsonl for fast lookup
- [ ] AC6: Go package `internal/task` with Creator struct

## Scope Files

```yaml
scope_files:
  - sdp-plugin/internal/task/creator.go
  - sdp-plugin/internal/task/creator_test.go
  - sdp-plugin/internal/task/types.go
  - sdp-plugin/cmd/sdp/task.go
```

## Notes

- Use workstream template from templates/workstream.md
- Auto-generate WS ID from feature + sequence
- Support both bug and task types with same API
