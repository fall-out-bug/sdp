---
ws_id: 00-067-06
feature_id: F067
title: "Release and Verify Action Contract Hardening"
status: backlog
priority: 0
size: MEDIUM
depends_on: [00-067-04, 00-067-05]
blocks: [00-067-08]
project_id: sdp
---

## Goal

Ensure release artifacts, naming conventions, and verify-action install behavior are aligned and tested end-to-end. Close the gap between CHANGELOG v0.10.0 and latest GitHub release v0.7.1.

## Context

Distribution is fragile:
- CHANGELOG documents v0.10.0 but last GitHub release is v0.7.1 (2026-02-02)
- Tags exist up to v1.0.0-go but no corresponding releases
- `go install github.com/fall-out-bug/sdp@latest` fails because CLI is at `sdp-plugin/cmd/sdp/`
- GoReleaser mentions Homebrew tap and Docker images that likely don't exist yet
- No standalone install script (like Beads' `curl | bash`)

## Acceptance Criteria

- [ ] AC1: Define and document artifact naming contract (binary names, archive names, checksums)
- [ ] AC2: Align goreleaser outputs with verify action download expectations
- [ ] AC3: Add CI verification that expected artifacts exist after release build
- [ ] AC4: Ensure verify action handles missing assets with clear failure modes
- [ ] AC5: Remove duplicate/legacy workflow confusion around verify dogfood
- [ ] AC6: Fix `go install` path in PROTOCOL.md and README
- [ ] AC7: Create install script for Linux/macOS (curl-based)
- [ ] AC8: Cut release(s) to close gap between CHANGELOG and GitHub releases

## Scope Files

```yaml
scope_files:
  - sdp-plugin/.goreleaser.yml
  - .github/actions/verify/action.yml
  - .github/actions/verify/scripts/download-sdp.sh
  - .github/actions/verify/README.md
  - .github/workflows/go-release.yml
  - .github/workflows/release-action.yml
  - .github/workflows/sdp-verify-dogfood.yml
  - README.md
  - docs/PROTOCOL.md
  - scripts/install.sh                               # NEW
```

## Implementation Notes

### Install Script

```bash
#!/bin/bash
set -euo pipefail
VERSION="${1:-latest}"
OS=$(uname -s | tr '[:upper:]' '[:lower:]')
ARCH=$(uname -m)
# ... download, verify checksum, install to ~/.local/bin/
```

### go install Path

Update docs from:
```
go install github.com/fall-out-bug/sdp@latest
```
To:
```
go install github.com/fall-out-bug/sdp/sdp-plugin/cmd/sdp@latest
```

### Release Gap

Evaluate which versions need formal GitHub releases (v0.8.0, v0.9.0, v0.10.0) and create them.

## Definition of Done

- [ ] Release/install contract documented and tested
- [ ] Verify action succeeds against actual produced artifact names
- [ ] No duplicate legacy verify workflow remains active
- [ ] Users can install via curl, go install, or Homebrew
- [ ] AC1-AC8 met
