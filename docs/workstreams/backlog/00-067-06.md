---
ws_id: 00-067-06
feature_id: F067
title: "Release and Verify Action Contract Hardening"
status: backlog
priority: 0
depends_on: [00-067-04, 00-067-05]
blocks: [00-067-08]
project_id: sdp
---

## Goal

Ensure release artifacts, naming conventions, and verify-action install behavior are aligned and tested end-to-end.

## Context

Distribution is currently fragile: release metadata and artifact expectations may diverge from installer scripts. This breaks external adoption and dogfooding reliability.

## Acceptance Criteria

- [ ] AC1: Define and document artifact naming contract (binary names, archive names, checksums)
- [ ] AC2: Align `goreleaser` outputs with verify action download expectations
- [ ] AC3: Add CI verification that expected artifacts exist after release build
- [ ] AC4: Ensure verify action handles missing assets with clear failure modes
- [ ] AC5: Remove duplicate/legacy workflow confusion around verify dogfood
- [ ] AC6: Validate release notes/install instructions against actual artifact names
- [ ] AC7: Add contract test that simulates install path from release assets

## Scope Files

```yaml
scope_files:
  - sdp-plugin/.goreleaser.yml
  - .github/actions/verify/action.yml
  - .github/actions/verify/scripts/download-sdp.sh
  - .github/actions/verify/README.md
  - .github/workflows/go-release.yml
  - .github/workflows/release-action.yml
  - .github/workflows/sdp-verify-dogfood.yml
  - .github/workflows/test-verify-action.yml
  - README.md
```

## Implementation Notes

### Artifact Contract

The contract must specify:
- per-OS binary naming
- archive naming
- checksum filename/location
- signature filename/location

### Test Strategy

Add contract tests in CI:
1. Build artifacts in temporary dist folder
2. Validate expected filenames
3. Run downloader in test mode against produced set

### Workflow Hygiene

Ensure only one canonical dogfood workflow path is active for SDP verify.

## Definition of Done

- [ ] Release/install contract documented and tested
- [ ] Verify action succeeds against actual produced artifact names
- [ ] No duplicate legacy verify workflow remains active
- [ ] AC1-AC7 met
