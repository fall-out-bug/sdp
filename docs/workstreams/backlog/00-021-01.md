---
ws_id: 00-021-01
feature_id: F021
status: done
priority: P2
size: S
depends_on: ["00-020-01"]
---

# 00-021-01: Remove Go-Specific Commands from Universal Skills

Feature: F021 (sdp_dev-ap8x)

## Goal

Replace hardcoded Go commands (`go test`, `go build`, `go vet`, `golangci-lint`, `go test -coverprofile`) in 5 universal skills with references to project-specific AGENTS.md. SDP is a language-agnostic protocol — skills should say WHAT to do, AGENTS.md says HOW (with what tools).

## Scope Files

- `sdp/prompts/skills/build/SKILL.md` — 8 Go references (quality gates, coverage, LOC checks)
- `sdp/prompts/skills/tdd/SKILL.md` — 6 Go references (exit conditions, test commands)
- `sdp/prompts/skills/bugfix/SKILL.md` — 3 Go references (quality gates)
- `sdp/prompts/skills/oneshot/SKILL.md` — 1 Go reference (clean state verification)
- `sdp/prompts/skills/deploy/SKILL.md` — 3 Go references (pre-flight checks)

## Acceptance Criteria

- [x] Zero `go test`, `go build`, `go vet`, `golangci-lint` in any SKILL.md CRITICAL path
- [x] Each replaced reference says "Run quality gates (see AGENTS.md)" or equivalent
- [x] AGENTS.md Quality Gates section remains Go-specific (project config, not protocol)
- [x] Skills are usable by a hypothetical Node.js or Rust project adopting SDP
- [x] Go-specific examples in comments are OK if clearly marked as examples

## Out of Scope

- `sdp test` / `sdp build` CLI wrappers (future, when CLI matures)
- AGENTS.md changes (it's already correct as project-specific config)
- `.sdp/toolchain.json` config file (future)

## Implementation Notes

Two-layer architecture:
- **Protocol layer** (`sdp/prompts/skills/`) — universal, language-agnostic
- **Project layer** (`AGENTS.md`) — language-specific config

The LLM reads AGENTS.md at session start and already knows the toolchain. When a skill says "run quality gates", the LLM substitutes the correct commands for the project's language.

Replace patterns:
| Current | New |
|---------|-----|
| `go test ./...` | "Run test suite (see Quality Gates in AGENTS.md)" |
| `go build ./...` | "Run build check (see Quality Gates in AGENTS.md)" |
| `go vet ./...` | "Run static analysis (see Quality Gates in AGENTS.md)" |
| `golangci-lint run` | "Run linter (see Quality Gates in AGENTS.md)" |
| `go test -coverprofile` | "Run tests with coverage measurement" |
| `wc -l *.go` | "Check LOC for source files" |

Research: [Language-Agnostic Skills](../../plans/2026-02-23-language-agnostic-skills.md)
