---
ws_id: 00-067-04
feature_id: F067
title: "Go Toolchain Alignment (root/plugin/CI/Docker)"
status: backlog
priority: 0
depends_on: [00-067-01]
blocks: [00-067-05, 00-067-06]
project_id: sdp
---

## Goal

Align Go versioning and build assumptions across root module, plugin module, CI workflows, and Docker build image.

## Context

Version mismatch causes local/CI divergence and toolchain download failures. F067 requires deterministic execution for both developers and automation.

## Acceptance Criteria

- [ ] AC1: Define official supported Go version policy (single version or explicit matrix)
- [ ] AC2: Align root `go.mod` and plugin `go.mod` with policy
- [ ] AC3: Align all workflow `go-version` values with policy
- [ ] AC4: Align `sdp-plugin/Dockerfile` Go base image with policy
- [ ] AC5: Ensure local test/build docs match enforced toolchain
- [ ] AC6: Add validation check that prevents future version drift
- [ ] AC7: Verify core test/build commands run with aligned toolchain in CI

## Scope Files

```yaml
scope_files:
  - go.mod
  - sdp-plugin/go.mod
  - sdp-plugin/Dockerfile
  - .github/workflows/go-ci.yml
  - .github/workflows/go-release.yml
  - .github/workflows/sdp-verify-dogfood.yml
  - .github/workflows/test-verify-action.yml
  - README.md
  - docs/reference/configuration.md
```

## Implementation Notes

### Policy Decision

Choose and document one of:
1. Single pinned stable Go version for all surfaces
2. Explicit minimal+current matrix with clear owner and support window

### Drift Prevention

Add automated check:
- parse all workflow go versions
- parse Dockerfile base Go version
- compare with policy source
- fail on mismatch

### Migration Safety

If version bump is required:
- include upgrade notes
- verify third-party tools (`golangci-lint`, `govulncheck`) compatibility

## Definition of Done

- [ ] All toolchain declarations are consistent
- [ ] CI contains automated drift check
- [ ] Documentation reflects actual enforced versions
- [ ] AC1-AC7 met
