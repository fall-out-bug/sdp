# WS: Deep Diagnostic Mode

**Feature**: F075 - Self-Healing Doctor
**ID**: 00-075-02
**Priority**: P0
**Depends on**: 00-075-01

## Goal
Add `--deep` flag for comprehensive environment analysis beyond basic checks.

## Scope Files
- `sdp-plugin/cmd/sdp/doctor.go`
- `sdp-plugin/internal/doctor/doctor.go`
- `sdp-plugin/internal/doctor/doctor_deep.go` (NEW)

## Acceptance Criteria
1. `sdp doctor --deep` runs extended checks beyond standard
2. Checks git hooks integrity (pre-commit, pre-push)
3. Validates skill files syntax (YAML frontmatter)
4. Checks for circular dependencies in workstreams
5. Validates Beads database integrity
6. Reports performance metrics (check duration)
7. Tests for deep checks (>= 80% coverage)

## Out of Scope
- Repair mode (00-075-01)
- Guided prompts (00-075-03)

## Implementation Notes
```go
type DeepCheckResult struct {
    Check     string
    Status    string
    Duration  time.Duration
    Details   map[string]interface{}
}

func RunDeepChecks() []DeepCheckResult {
    // Extended diagnostics
}
```

## Test Strategy
- Unit tests for each deep check
- Mock file system for hooks tests
- Performance benchmarks
