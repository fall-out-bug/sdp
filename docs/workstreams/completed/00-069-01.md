---
ws_id: 00-069-01
feature_id: F069
title: "Next-Step Decision Contract and State Model"
status: backlog
priority: 0
size: SMALL
depends_on: [00-068-05]
blocks: [00-069-02, 00-069-03, 00-069-04, 00-069-05]
project_id: sdp
---

## Goal

Define a single contract for "what should happen next" based on project and execution state.

## Context

Today guidance exists but is fragmented and not guaranteed to be deterministic across surfaces.

## Acceptance Criteria

- [ ] AC1: Define state inputs (workstream status, blockers, mode, last command)
- [ ] AC2: Define output schema (recommended command, reason, confidence, alternatives)
- [ ] AC3: Document deterministic tie-break rules for recommendations
- [ ] AC4: Map contract to CLI, agent, and docs consumption points
- [ ] AC5: Add schema validation tests and examples

## Scope Files

```yaml
scope_files:
  - sdp-plugin/internal/schema/
  - sdp-plugin/internal/orchestrator/
  - docs/PROTOCOL.md
  - docs/reference/commands.md
```

## Definition of Done

- [ ] Contract is versioned and documented
- [ ] All consumer surfaces can parse the same output
- [ ] AC1-AC5 complete
