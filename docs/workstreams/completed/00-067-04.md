---
ws_id: 00-067-04
feature_id: F067
title: "Go Toolchain Alignment (root/plugin/CI/Docker)"
status: complete
priority: 0
size: SMALL
depends_on: [00-067-01]
blocks: [00-067-05, 00-067-10, 00-067-12]
project_id: sdp
---

## Goal

Align all Go version declarations to a single, currently-released version across every configuration surface.

## Context

Five different Go versions exist across the project:

| Location | Current Version |
|----------|----------------|
| `go.mod` (root) | 1.25.6 |
| `sdp-plugin/go.mod` | 1.26 |
| All CI workflows (5 files) | 1.26 |
| `sdp-plugin/Dockerfile` | 1.21-alpine |
| `README.md` badge | 1.24+ |

Go 1.25.6 and 1.26 don't exist yet. The Dockerfile uses 1.21 which is 3 major versions behind. This causes build failures and contributor confusion.

## Acceptance Criteria

- [ ] AC1: Choose single Go version (latest stable, e.g. 1.24)
- [ ] AC2: Update root `go.mod` to use chosen version
- [ ] AC3: Update `sdp-plugin/go.mod` to use chosen version
- [ ] AC4: Update all CI workflow files (`go-version` fields)
- [ ] AC5: Update `sdp-plugin/Dockerfile` base image
- [ ] AC6: Update `README.md` badge
- [ ] AC7: Create `.go-version` file as single source of truth
- [ ] AC8: Add CI check that validates Go version consistency

## Scope Files

```yaml
scope_files:
  - go.mod
  - sdp-plugin/go.mod
  - sdp-plugin/Dockerfile
  - .github/workflows/go-ci.yml
  - .github/workflows/go-release.yml
  - .github/workflows/sdp-verify-dogfood.yml
  - .github/workflows/test-verify-action.yml
  - .go-version                              # NEW
  - README.md
```

## Implementation Notes

### Version Selection

Use latest stable Go version. Create `.go-version` file at repo root:
```
1.24
```

All other locations should reference this or use the same value.

### CI Version Alignment

In workflows, consider reading from `.go-version`:
```yaml
- name: Read Go version
  id: go-version
  run: echo "version=$(cat .go-version)" >> $GITHUB_OUTPUT
- uses: actions/setup-go@v5
  with:
    go-version: ${{ steps.go-version.outputs.version }}
```

### Dockerfile

```dockerfile
ARG GO_VERSION=1.24
FROM golang:${GO_VERSION}-alpine AS builder
```

## Definition of Done

- [ ] All Go version references are identical
- [ ] Docker build succeeds with aligned version
- [ ] CI builds pass
- [ ] AC1-AC8 met
