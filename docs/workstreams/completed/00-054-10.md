---
ws_id: "00-054-10"
feature_id: "F054"
title: "Evidence Trace Command"
status: complete
priority: 2
size: MEDIUM
depends_on: ["00-054-09"]
blocks: []
---

# WS: Evidence Trace Command

**Feature**: F054 - Evidence Layer
**ID**: 00-054-10
**Priority**: P0
**Depends on**: 00-054-09

## Goal
Implement `sdp log trace` command for evidence chain traversal.

## Scope Files
- `sdp-plugin/cmd/sdp/trace.go` (NEW)
- `sdp-plugin/cmd/sdp/trace_test.go` (NEW)
- `src/sdp/evidence/trace.go` (NEW)

## Acceptance Criteria
1. `sdp log trace` - walk evidence chain backwards
2. Tree output format (human-readable)
3. `--json` for machine-readable output
4. `--verify` to check chain integrity
5. Filter by commit or workstream
6. Tests for trace (>= 80% coverage)

## Out of Scope
- Remote evidence fetching

## Implementation Notes
```go
// In src/sdp/evidence/trace.go
type Tracer struct {
    log *EvidenceLog
}

func (t *Tracer) Trace(commit string) ([]BaseEvent, error)
func (t *Tracer) VerifyChain() (bool, []error)
func (t *Tracer) FormatTree(events []BaseEvent) string
```

## Test Strategy
- Unit tests for trace logic
- Test chain verification
- Test tree formatting
