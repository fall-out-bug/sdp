# SDP v0.9.0 Release Notes

**M1 "T-shirt" Milestone — UX Excellence & Protocol Enforcement**

---

## Overview

This release focuses on three key areas:

1. **Protocol Enforcement** — Clear workflow with gates
2. **UX Improvements** — Guided onboarding, self-healing, next-step recommendations
3. **Evidence Layer** — Full audit trail for AI-assisted development

## Breaking Changes

None. All changes are additive.

## Protocol Flow (New)

The correct workflow is now explicitly documented:

```
@oneshot F001  →  @review F001  →  @deploy F001
     │                 │                │
     ▼                 ▼                ▼
Execute WS       APPROVED?         Merge PR
```

**"Done" = @review APPROVED + @deploy completed**, not just "PR merged".

## New Features

### F054: Evidence Layer
- Hash-chained event log in `.sdp/log/events.jsonl`
- 6 event types: decision, plan, generation, verification, acceptance, approval
- `sdp log show/trace/export/stats` commands

### F063: Guardian Hooks
- `.sdp/guard-rules.yml` as canonical rules source
- Rule validation with explicit error messages
- CI integration with same rules file

### F064: Unified Task Resolver
- Consistent task ID resolution across skills
- Workstream, Beads, and issue ID support

### F067: Repository Hardening
- 80% coverage threshold in CI
- LOC compliance (< 200 lines per file)
- Go 1.24 across all workflows

### F068: UX Foundation
- `sdp init --guided` — Interactive setup wizard
- `sdp init --auto` — Safe defaults
- `sdp demo` — Feature walkthrough
- `sdp status --text/--json` — Quick status

### F070: Failure & Recovery UX
- `sdp diagnose` — Error lookup and recovery
- 38 structured error codes with recovery hints
- Error taxonomy: ENV, PROTO, DEP, VAL, RUNTIME

### F075: Self-Healing Doctor
- `sdp doctor --repair` — Auto-fix detected issues
- `sdp doctor --deep` — Comprehensive diagnostics

### F076: Guided Onboarding
- Interactive wizard with preflight checks
- Headless mode for CI/CD (`--headless`)
- Project type detection (go, node, python)

## Improvements

### Protocol Enforcement
- Milestone context in CLAUDE.md (prevents context loss)
- Session-start pattern for new sessions
- @review saves verdict to `.sdp/review_verdict.json`
- @deploy checks for APPROVED verdict before merge

### Documentation
- README rewritten with focus on protocol (184 lines)
- Skills as primary functionality, CLI/Beads as optional
- Clear protocol flow diagram

## Statistics

| Metric | Value |
|--------|-------|
| Features | 8 (F054, F063, F064, F067, F068, F070, F075, F076) |
| Workstreams | 57 |
| Test coverage | 80%+ (all packages) |

## Upgrade Notes

No migration required. To get the latest:

```bash
git submodule update --remote sdp/
```

## What's Next (M2)

- F060: Shared Contracts for parallel features
- F071: Team UX & Collaboration
- F073: Trust & Explainability
- F077: Runtime Hooks Platform
- F078: Resilient Runtime Layer

---

**Full Changelog**: [CHANGELOG.md](CHANGELOG.md)
